package me.hubert.leopold.basegame.game;

import java.awt.Dimension;
import java.awt.Toolkit;

import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.control.Button;

public class LevelManager {
	
	public static int actualLevel = 0;
	public static Level loadedLevel;
	
	public static void setLevel(int i) {
		actualLevel = i;
		avoidActualLevel();
		loadActualLevel();
		TempGame.renderMap();
	}
	
	public static void loadActualLevel() {
		switch(actualLevel) {
			case 0:
				loadedLevel = new Level(lvl0);
				/*TempGame.mapw = lvl1[0].length;
				TempGame.maph = lvl1[0][0].length;*/
				Button buttonlvl1 = new Button("Level 1");
				buttonlvl1.setLayoutX(200);
				buttonlvl1.setLayoutY(200);
				buttonlvl1.setOnAction(new EventHandler<ActionEvent>() {
				    @Override public void handle(ActionEvent e) {
				        LevelManager.setLevel(1);;
				    }
				});
				buttonlvl1.setId("btnlvl1");
				TempGame.root.getChildren().add(buttonlvl1);
				TempGame.elements.add(buttonlvl1);
				TempGame.mapw = loadedLevel.map[0][0].length;
				TempGame.maph = loadedLevel.map[0].length;
				break;
			case 1:
				loadedLevel = new Level(lvl1);
				TempGame.mapw = loadedLevel.map[0][0].length;
				TempGame.maph = loadedLevel.map[0].length;
				break;
			case 2:
				loadedLevel = new Level(lvl2);
				TempGame.mapw = loadedLevel.map[0][0].length;
				TempGame.maph = loadedLevel.map[0].length;
				break;
		
		}
		
		Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
		
		int tmpw1 = (int) (screenSize.getWidth() / TempGame.mapw);
		int tmpw2 = (int) (screenSize.getHeight() / TempGame.maph);
		
		TempGame.tilewidth = tmpw1<tmpw2?tmpw1:tmpw2;
		
		for (int i = 0; i < TempGame.players.size(); i++) {
			//System.out.println("player exist!");
			TempGame.players.get(i).pl.setX(TempGame.players.get(i).startX*TempGame.tilewidth);
			TempGame.players.get(i).pl.setY(TempGame.players.get(i).startY*TempGame.tilewidth);
			TempGame.players.get(i).canJump = false;
			TempGame.players.get(i).inertieX = 0.0;
			TempGame.players.get(i).inertieY = 0.0;
			TempGame.players.get(i).upPressed = false;
			TempGame.players.get(i).rightPressed = false;
			TempGame.players.get(i).downPressed = false;
			TempGame.players.get(i).leftPressed = false;
			TempGame.players.get(i).pl.toFront();
			TempGame.players.get(i).pl.setFitHeight(TempGame.tilewidth-TempGame.tilewidth/10);
			TempGame.players.get(i).pl.setFitWidth(TempGame.tilewidth-TempGame.tilewidth/10);
		}
	}
	
	public static void avoidActualLevel() {
		for (int f = 0; f < 15; f++) {
			for (int i = 0; i < TempGame.elements.size(); i++) {
				boolean player = false;
				for (int o = 0; o < TempGame.players.size(); o++) {
					if(TempGame.elements.get(i).getId().equals(TempGame.players.get(o).pl.getId())) {
						player = true;
					}
				}
				if(!player) {
					TempGame.root.getChildren().remove(TempGame.elements.get(i));
					TempGame.elements.remove(i);
				}
				
			}
		}
		
	}
	
	public static char[][][] lvl0 = new char[][][] {
		{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','d','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','x','x','x','0','x','x','x','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','x','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','x','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			},
			{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','x','0','0','x','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','d','0','x','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','x','x','x','x','x','x','x','0','0','x','0','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','x','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','x','0','0','0','x'},
			{'x','0','0','0','x','0','0','0','0','0','0','0','b','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			}
			};
	
	public static char[][][] lvl1 = new char[][][] {
		{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','x','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','d','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','x','x','x','x','x','x','x','x','x','x','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			},
			{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','d','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','0','0','0','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','x','0','0','0','0','0','0','0','b','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','x','x','x','0','x','x','x','x','x','x','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','p','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','l','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			}
			};
	
	public static char[][][] lvl2 = new char[][][] {
		{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','x','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','x','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','x','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			},
			{
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','0','0','0','0','0','0','x','0','0','0','x','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','x'},
			{'x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x','x'}
			}
			};
	
}
